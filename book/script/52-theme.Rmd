```{r 52-remove-all, include = FALSE}
rm(list = ls())
```


## Plotting: themes

<details><summary>*Click here to show setup code.*</summary>
```{r include = FALSE}
### Plotting: themes

```
```{r 52-setup-52-theme-r}
library(tidyverse)
library(nycflights13)

library(conflicted)
conflict_prefer("filter", "dplyr")
conflict_prefer("lag", "dplyr")
```
</details>

In this section we are looking at the use of visual themes to easily change the look and feel of a plot.
We start with the introduction of the -- admittedly very basic -- `theme_void()` function.

```{r include = FALSE}
# Base plot
```
```{r 52-base-plot}
ggplot(
  data = mpg,
  mapping = aes(x = displ, y = hwy)
) +
  geom_point() +
  theme_void()
```

Change the default `theme_grey()` to a more traditional black-and-white theme:

```{r include = FALSE}
# bw-theme
```
```{r 52-bw-theme}
ggplot(
  data = mpg,
  mapping = aes(x = displ, y = hwy)
) +
  geom_point() +
  theme_bw()
```

Also in this scheme the color aesthetic works as it normally does.
The black-and-whiteness only relates to the background.

```{r include = FALSE}
# Data can have color in bw-theme
```
```{r 52-data-can-have-color-in-bw-theme}
ggplot(
  data = mpg,
  mapping = aes(x = displ, y = hwy, color = class)
) +
  geom_point() +
  theme_bw()
```

Calling the function `theme()` after a `theme_...()` call let's you tweak certain aspects of the theme.

Some plots work better with the legend at the bottom.

```{r include = FALSE}
# Occasionally useful: legend at the bottom
```
```{r 52-occasionally-useful-legend-at-the-bottom}
ggplot(
  data = mpg,
  mapping = aes(x = displ, y = hwy, color = class)
) +
  geom_point() +
  theme_bw() +
  theme(legend.position = "bottom")
```

In some plots, the text on the x axis looks better when displayed vertically.
This is a combination of `theme()` settings which are too difficult to remember.

```{r include = FALSE}
# Occasionally useful: vertical text at x axis
```
```{r 52-occasionally-useful-vertical-text-at-x-axis, eval = FALSE}
ggplot(
  data = mpg,
  mapping = aes(x = displ, y = hwy, color = class)
) +
  geom_point() +
  theme_bw() +
  theme(........)
```

The {ggpubr} package offers a handy shortcut:

```{r include = FALSE}
# Easier with ggpubr package
```
```{r 52-easier-with-ggpubr-package}
ggplot(
  data = mpg,
  mapping = aes(x = displ, y = hwy, color = class)
) +
  geom_point() +
  theme_bw() +
  ggpubr::rotate_x_text()
```

Mind that `theme_...()` functions overwrite all previous settings of `theme()`:

```{r include = FALSE}
# theme_()-functions overwrite theme() if called afterwards
```
```{r 52-theme-functions-overwrite-theme-if-called-afterwards}
ggplot(
  data = mpg,
  mapping = aes(x = displ, y = hwy, color = class)
) +
  geom_point() +
  theme(legend.position = "bottom") +
  theme_bw()
```

The first argument of each `theme_...()` function is `base_size`, which refers to the font size.

```{r include = FALSE}
# first param of theme_()-functions is base_size
```
```{r 52-first-param-of-theme-functions-is-base-size}
ggplot(
  data = mpg,
  mapping = aes(x = displ, y = hwy, color = class)
) +
  geom_point() +
  theme_bw(16)
```
