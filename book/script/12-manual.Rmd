```{r 12-remove-all, include = FALSE}
rm(list = ls())
```


## Tweaks and tricks

<details><summary>*Click here to show setup code.*</summary>
```{r include = FALSE}
### Tweaks and tricks

```
```{r 12-setup-12-manual-r}
library(tidyverse)
```
</details>

Change the color of the plotted data by setting parameter `color` in the `geom()`-function to a character variable with the color name.

```{r include = FALSE}
# choose color in geom
```
```{r 12-choose-color-in-geom}
ggplot(
  data = mpg,
  mapping = aes(x = displ, y = hwy)
) +
  geom_point(
    color = "red"
  )
```


```{r include = FALSE}
# different color 1
```
```{r 12-different-color-1}
ggplot(
  data = mpg,
  mapping = aes(x = displ, y = hwy)
) +
  geom_point(
    color = "blue"
  )
```


```{r include = FALSE}
# different color 2
```
```{r 12-different-color-2}
ggplot(
  data = mpg,
  mapping = aes(x = displ, y = hwy)
) +
  geom_point(
    color = "green"
  )
```

Different colors can be mapped to the values of a variable as a further aesthetic property of the plot.
The `class` variable is discrete and leads to a discrete color scale.

```{r include = FALSE}
# color as 3rd aesthetic (discrete)
```
```{r 12-color-as-3-rd-aesthetic-discrete}
ggplot(
  data = mpg,
  mapping = aes(x = displ, y = hwy, color = class)
) +
  geom_point()
```

The `cty` attribute is continuous, the color scale is adapted accordingly.


```{r include = FALSE}
# color as 3rd aesthetic (continuous)
```
```{r 12-color-as-3-rd-aesthetic-continuous}
ggplot(
  data = mpg,
  mapping = aes(x = displ, y = hwy, color = cty)
) +
  geom_point()
```

One more degree of freedom is the shape of the symbols to be plotted.
The warning indicates that a plot should not use too many different shapes.

```{r include = FALSE}
# point shape as 3rd aesthetic
```
```{r 12-point-shape-as-3-rd-aesthetic}
ggplot(
  data = mpg,
  mapping = aes(
    x = displ,
    y = hwy,
    shape = class
  )
) +
  geom_point()
```

Variables with fewer classes are fine.
Color and shape can be combined too.

```{r include = FALSE}
# shape mapped on drv
```
```{r 12-shape-mapped-on-drv}
ggplot(
  data = mpg,
  mapping = aes(
    x = displ,
    y = hwy,
    color = class,
    shape = drv
  )
) +
  geom_point()
```

And last but not least, the size of the plotted symbols can be linked to numeric values of the mapped variable. 

```{r include = FALSE}
# point size as 3rd aesthetic
```
```{r 12-point-size-as-3-rd-aesthetic}
ggplot(
  data = mpg,
  mapping = aes(
    x = displ,
    y = hwy,
    size = cty
  )
) +
  geom_point()
```

You can mix different aesthetic mappings in order to produce a plot with densely packed information.

```{r include = FALSE}
# mix to increase num of aesthetics
```
```{r 12-mix-to-increase-num-of-aesthetics}
ggplot(
  data = mpg,
  mapping = aes(
    x = displ,
    y = hwy,
    color = class,
    size = cty
  )
) +
  geom_point()
```

Choosing a specific color in the `mapping`-argument of `ggplot()` does not work, since a mapping of a variable to an aesthetic is expected.
Let's try passing a color anyway...

```{r include = FALSE}
# unquoted col in aes()
```
```{r 12-unquoted-col-in-aes}
try(
  ggplot(
    data = mpg,
    mapping = aes(
      x = displ,
      y = hwy,
      color = blue
    )
  ) +
    geom_point()
)
```

R treats objects without quotation marks in a special way, expecting them to be variables.
Since `blue` is not a variable of `mpg`, this did not work.
Use quotation marks if you mean a string, as opposed to a variable or object name.

```{r include = FALSE}
# mpg quoted and unquoted
```
```{r 12-mpg-quoted-and-unquoted}
mpg
"mpg"
```

So what if we pass the color as a character variable?

```{r include = FALSE}
# quoted color in aes()
```
```{r 12-quoted-color-in-aes}
ggplot(
  data = mpg,
  mapping = aes(
    x = displ,
    y = hwy,
    color = "blue"
  )
) +
  geom_point()
```

At least there was no error, but now the constant value `blue` is mapped to the first default color of the color mapping, which happens to be red.
We could have been fooled, if it had been blue.
Manual aesthetics must be specified in the geom:

```{r include = FALSE}
# correct way to specify manual aesthetic
```
```{r 12-correct-way-to-specify-manual-aesthetic}
ggplot(
  data = mpg,
  mapping = aes(
    x = displ,
    y = hwy
  )
) +
  geom_point(
    color = "blue"
  )
```

Semi-transparency is another way to better display your data.
This is useful to get an impression of how many data points share the same coordinates.

```{r include = FALSE}
# semi-transparency
```
```{r 12-semi-transparency}
ggplot(
  data = mpg,
  mapping = aes(
    x = displ,
    y = hwy
  )
) +
  geom_point(alpha = 0.2)
```

Within the `aes()`-function you can not only provide the bare variable of the data set, but you can also pass a function of a variable.

```{r include = FALSE}
# function of variables in aes()
```
```{r 12-function-of-variables-in-aes}
ggplot(
  data = mpg,
  mapping = aes(
    x = displ,
    y = 2.35 / hwy
  )
) +
  geom_point()
```

Trying to map aesthetics in the `geom()`-function, does not work.

```{r include = FALSE}
# color in geom()
```
```{r 12-color-in-geom}
try(
  ggplot(
    data = mpg,
    mapping = aes(
      x = displ,
      y = 2.35 / hwy
    )
  ) +
    geom_point(color = class)
)
```
